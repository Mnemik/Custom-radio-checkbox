// jQuery Custom Radio Checkbox Plugin | by Denis Ciccale @tdecs | under the MIT license
(function(e){e.fn.customRadioCheckbox=function(){if(this[0]){var h=function(){var b=e(this);b.closest("label")[0]||b.prev().trigger("change.crc",[!0])},g=function(b){for(var a=b.type,c=b.length,d,f;c--;)f=b[c],d=e("<i>",{"class":a}).bind("click.crc",h),f.checked&&d.addClass(a+"-checked"),f.parentNode.insertBefore(d[0],f.nextSibling)};return this.each(function(){var b=e(this),a=b.find("input[type=radio]:not(.rc-hidden)").addClass("rc-hidden"),c=b.find("input[type=checkbox]:not(.rc-hidden)").addClass("rc-hidden"),d={};a.length&&(a.type="radio",g(a),a.bind("change.crc",function(b,c){if(!c||!this.checked)d[this.name]||(d[this.name]=a.filter('[name="'+this.name+'"]').next()),d[this.name].checked&&d[this.name].checked.removeClass(a.type+"-checked"),d[this.name].checked=e(this.nextSibling).addClass(a.type+"-checked");c&&!this.checked&&(this.checked=!0)}));c.length&&(c.type="checkbox",g(c),c.bind("change.crc",function(b,a){if(a)this.checked=!this.checked;e(this.nextSibling).toggleClass(c.type+"-checked")}))})}};e(function(){e("body").customRadioCheckbox()})})(jQuery);